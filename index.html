<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Activity Grid Demo</title>
	<style>
		body {
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
			max-width: 1200px;
			margin: 0 auto;
			padding: 20px;
		}
	</style>
</head>

<body>
	<h1>Activity Grid Demo</h1>

	<activity-grid start-date="2024-03-06"></activity-grid>

	<script type="module">
		import './src/index.ts';

		const darkModeColor = "#0d1117";

		// Generate some sample data
		const generateSampleData = () => {
			const data = [];
			const end = new Date();
			const start = new Date();
			start.setFullYear(end.getFullYear() - 1);
			start.setDate(start.getDate() + 1);

			for (let d = start; d <= end; d.setDate(d.getDate() + 1)) {
				// Random activity count (more likely to be 0)
				const random = Math.random();
				const count = random > 0.7
					? Math.floor(Math.random() * 10)
					: 0;

				if (count > 0) {
					data.push({
						date: d.toISOString().split('T')[0],
						count: count
					});
				}
			}

			return data;
		};

		let sampleDate = generateSampleData();

		// Get the component and set data
		const grid = document.querySelector('activity-grid');
		grid.data = sampleDate;

		const handleCellClick = (event) => {
			const { date, count } = event.detail;
			console.log(`Cell clicked: Date=${date}, Count=${count} activities`);
		};

		grid.addEventListener('cell-click', handleCellClick);
	</script>
</body>

</html>